@model IEnumerable<InventStuff>
@{
    var inventStuffs = Model.ToList();
    if (Model.Count() == 0)
    {
        <div style="margin: 1rem">
            По вашему запросу ничего не найдено
        </div>
        return;
    }
}

<div class="row justify-content-center justify-content-lg-start">
    @{
        foreach (InventStuff inventStuff in inventStuffs)
        {
            @switch (inventStuff)
            {
                case Workplace workplace:
                    <div class="card">
                        <h5 class="card-header card-title">@workplace.Name</h5>
                        <div class="card-body d-flex flex-column flex-grow-1">
                            <p class="card-text">ОС: @workplace.IdOsNavigation.OsName</p>
                            <p class="card-text">Инвентарный номер: @(workplace?.InventNumber ?? "нет")</p>
                            <p class="card-text">Серийный номер: @(workplace?.SerialNumber ?? "нет")</p>
                            @if (workplace.IsDecommissioned)
                            {
                                <p class="card-text">Списано: @(workplace.DecommissionDate.ToString() ?? "Неизвестно")</p>
                                <p class="card-text">Комментарий: @(workplace.DecommissionComment ?? "нет")</p>
                            }
                        </div>
                        <div class="card-footer row gy-2 justify-content-center justify-content-md-start">
                            <a asp-controller="Workplaces" asp-action="Details" asp-route-id="@workplace.IdInventStuff" class="btn btn-primary">Подробнее</a>
                            <a asp-controller="Workplaces" asp-action="QRCode" asp-route-id="@workplace.IdInventStuff" class="btn btn-primary">QR-Код</a>
                        </div>
                    </div>
                    break;

                case CabinetEquipment cabinetEquipment:
                    <div class="card">
                        <h5 class="card-header card-title">@cabinetEquipment.Name</h5>
                        <div class="card-body d-flex flex-column flex-grow-1">
                            <p class="card-text">Производитель: @(cabinetEquipment?.Vendor?.Name ?? "нет")</p>
                            <p class="card-text">Инвентарный номер: @(cabinetEquipment?.InventNumber ?? "нет")</p>
                            <p class="card-text">Серийный номер: @(cabinetEquipment?.SerialNumber ?? "нет")</p>
                            <p class="card-text">Тип: @cabinetEquipment?.CabinetEquipmentType.Name</p>
                            <p class="card-text">Кабинет: @(cabinetEquipment?.Cabinet?.Name ?? "нет")</p>
                            <p class="card-text">Рабочее место: @(cabinetEquipment?.Workplace?.Name ?? "нет")</p>
                            @if (cabinetEquipment.IsDecommissioned)
                            {
                                <p class="card-text">Списано: @(cabinetEquipment.DecommissionDate.ToString() ?? "Неизвестно")</p>
                                <p class="card-text">Комментарий: @(cabinetEquipment.DecommissionComment ?? "нет")</p>
                            }
                        </div>
                        <div class="card-footer row gy-2 justify-content-center justify-content-md-start">
                            @if (cabinetEquipment.IdCabinet != null)
                            {
                                <a asp-controller="Workplaces" asp-action="Index" asp-route-id="@cabinetEquipment.IdCabinet" class="btn btn-primary">Перейти к кабинету</a>
                            }
                            @if (cabinetEquipment.IdWorkplace != null)
                            {
                                <a asp-controller="Workplaces" asp-action="Details" asp-route-id="@cabinetEquipment.IdWorkplace" class="btn btn-primary">Перейти к рабочему месту</a>
                            }
                        </div>
                    </div>
                    break;

                default:
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Неизвестный тип оборудования</h5>
                            <div class="row gy-2 justify-content-center justify-content-md-start">
                                <p>Информация о данном типе оборудования отсутствует.</p>
                            </div>
                        </div>
                    </div>
                    break;
            }
        }
    }
</div>